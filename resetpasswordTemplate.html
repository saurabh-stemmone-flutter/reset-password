<!doctype html>
<html lang="en-US">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>Email Verification</title>
    <meta name="description" content="Email Verification">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style type="text/css">
        a:hover {
            text-decoration: underline !important;
        }
    </style>
</head>

<body marginheight="0" topmargin="0" marginwidth="0"
    style="margin: 0px; background-color: #f2f3f8; font-family: 'Poppins', sans-serif;" leftmargin="0">
    <table cellspacing="0" border="0" cellpadding="0" width="100%" bgcolor="#f2f3f8"
        style="font-family: 'Poppins', sans-serif;">
        <tr>
            <td>
                <table style="background-color: #f2f3f8; max-width:670px;  margin:0 auto;" width="100%" border="0"
                    align="center" cellpadding="0" cellspacing="0">
                    <tr>
                        <td style="text-align:center; padding-top: 20px;">
                            <a href="#" title="logo" target="_blank">
                                <img width="20%" src="image/Asset 2@4x-8.png" title="logo" alt="logo">
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table width="95%" border="0" align="center" cellpadding="0" cellspacing="0"
                                style="max-width:670px;background:#fff; border-radius:3px; text-align:center;-webkit-box-shadow:0 6px 18px 0 rgba(0,0,0,.06);-moz-box-shadow:0 6px 18px 0 rgba(0,0,0,.06);box-shadow:0 6px 18px 0 rgba(0,0,0,.06);">
                                <tr>
                                    <td style="height:40px;">&nbsp;</td>
                                </tr>
                                <tr>
                                    <td style="padding:0 35px; text-align:left">
                                        <h2 style="color:#1e1e2d; font-weight:500; margin:0;font-size:32px;">Verify
                                            Email</h2>
                                        <p style="color:#53575a; font-size:15px;line-height:24px;">
                                            Please verify your email address to activate your account.
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:0 35px; text-align:left;" id="verify-button">
                                        <button
                                            style="background:#20e277;text-decoration:none !important; font-weight:500; margin-top:15px; color:#fff;font-size:20px;padding:10px 24px;display:inline-block;">
                                            Verify Email
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js';
        import { applyActionCode, getAuth } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyA4gFQAuejGyMTdYjCDjD3zvJVKzzAjS7Q",
            authDomain: "stemm-trak.firebaseapp.com",
            projectId: "stemm-trak",
            storageBucket: "stemm-trak.appspot.com",
            messagingSenderId: "46048421418",
            appId: "1:46048421418:web:95ab6dc28b61caed05c553",
            measurementId: "G-B24YLBYWHM"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const verifyEmail = () => {
            console.log('Verifying email...');
            const params = new URLSearchParams(window.location.search);
            const oobCode = params.get('oobCode');

            applyActionCode(auth, oobCode)
                .then(() => {
                    // Email verified successfully
                    // You may redirect the user to a success page or show a success message
                    console.log('Email verified successfully');
                })
                .catch((error) => {
                    // Handle errors
                    console.error('Email verification failed:', error);
                });
        }

        document.getElementById('verify-button').addEventListener('click', verifyEmail);
    </script>
</body>

</html>
